var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _ReduxPersist=_interopRequireDefault(require("../Config/ReduxPersist"));var _reactNative=require("react-native");var _reduxPersist=require("redux-persist");var _StartupRedux=_interopRequireDefault(require("../Redux/StartupRedux"));var _DebugConfig=_interopRequireDefault(require("../Config/DebugConfig"));var updateReducers=function updateReducers(store){var reducerVersion=_ReduxPersist.default.reducerVersion;var startup=function startup(){return store.dispatch(_StartupRedux.default.startup());};_reactNative.AsyncStorage.getItem('reducerVersion').then(function(localVersion){if(localVersion!==reducerVersion){if(_DebugConfig.default.useReactotron){console.tron.display({name:'PURGE',value:{'Old Version:':localVersion,'New Version:':reducerVersion},preview:'Reducer Version Change Detected',important:true});}(0,_reduxPersist.persistStore)(store,null,startup).purge();_reactNative.AsyncStorage.setItem('reducerVersion',reducerVersion);}else{(0,_reduxPersist.persistStore)(store,null,startup);}}).catch(function(){(0,_reduxPersist.persistStore)(store,null,startup);_reactNative.AsyncStorage.setItem('reducerVersion',reducerVersion);});};var _default={updateReducers:updateReducers};exports.default=_default;