var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _redux=require("redux");var _Rehydration=_interopRequireDefault(require("../Services/Rehydration"));var _ReduxPersist=_interopRequireDefault(require("../Config/ReduxPersist"));var _DebugConfig=_interopRequireDefault(require("../Config/DebugConfig"));var _reduxSaga=_interopRequireDefault(require("redux-saga"));var _ScreenTrackingMiddleware=_interopRequireDefault(require("./ScreenTrackingMiddleware"));var _reactNavigationReduxHelpers=require("react-navigation-redux-helpers");var _default=function _default(rootReducer,rootSaga){var middleware=[];var enhancers=[];var navigationMiddleware=(0,_reactNavigationReduxHelpers.createReactNavigationReduxMiddleware)('root',function(state){return state.nav;});middleware.push(navigationMiddleware);middleware.push(_ScreenTrackingMiddleware["default"]);var sagaMonitor=_DebugConfig["default"].useReactotron?console.tron.createSagaMonitor():null;var sagaMiddleware=(0,_reduxSaga["default"])({sagaMonitor:sagaMonitor});middleware.push(sagaMiddleware);enhancers.push(_redux.applyMiddleware.apply(void 0,middleware));var createAppropriateStore=_DebugConfig["default"].useReactotron?console.tron.createStore:_redux.createStore;var store=createAppropriateStore(rootReducer,_redux.compose.apply(void 0,enhancers));if(_ReduxPersist["default"].active){_Rehydration["default"].updateReducers(store);}var sagasManager=sagaMiddleware.run(rootSaga);return{store:store,sagasManager:sagasManager,sagaMiddleware:sagaMiddleware};};exports["default"]=_default;