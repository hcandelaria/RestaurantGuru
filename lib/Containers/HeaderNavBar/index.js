var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _react=_interopRequireWildcard(require("react"));var _reactRedux=require("react-redux");var _nativeBase=require("native-base");var _CitiesRedux=_interopRequireDefault(require("../../Redux/CitiesRedux"));var _DropDownMenu=_interopRequireDefault(require("../../Components/DropDownMenu"));var _jsxFileName="C:\\Users\\Smilodon\\Interviews\\bin2rid\\RestaurantGuru\\App\\Containers\\HeaderNavBar\\index.js";var HeaderNavBar=function(_Component){(0,_inherits2.default)(HeaderNavBar,_Component);function HeaderNavBar(props){var _this;(0,_classCallCheck2.default)(this,HeaderNavBar);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(HeaderNavBar).call(this,props));_this.state={selected:props.city_id};return _this;}(0,_createClass2.default)(HeaderNavBar,[{key:"onValueChange",value:function onValueChange(value){this.setState({selected:value});var payload={city_id:value};this.props.updateCity_id(payload);}},{key:"componentDidMount",value:function componentDidMount(){payload={query:'New York'};this.props.getCities(payload);}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){}},{key:"render",value:function render(){var _this2=this;return _react.default.createElement(_nativeBase.Header,{__source:{fileName:_jsxFileName,lineNumber:32}},_react.default.createElement(_nativeBase.Left,{__source:{fileName:_jsxFileName,lineNumber:33}},this.props.navigation.state.routes.length>1?_react.default.createElement(_nativeBase.Button,{transparent:true,onPress:function onPress(){return _this2.props.navigation.pop();},__source:{fileName:_jsxFileName,lineNumber:36}},_react.default.createElement(_nativeBase.Icon,{name:"arrow-back",__source:{fileName:_jsxFileName,lineNumber:37}}),_react.default.createElement(_nativeBase.Text,{__source:{fileName:_jsxFileName,lineNumber:38}},"Back")):_react.default.createElement(_nativeBase.Text,{__source:{fileName:_jsxFileName,lineNumber:40}})),_react.default.createElement(_nativeBase.Body,{__source:{fileName:_jsxFileName,lineNumber:43}},_react.default.createElement(_nativeBase.Title,{__source:{fileName:_jsxFileName,lineNumber:44}},"RestaurantGuru")),_react.default.createElement(_nativeBase.Right,{__source:{fileName:_jsxFileName,lineNumber:46}},this.props.navigation.state.routes.length!==3?_react.default.createElement(_DropDownMenu.default,{selected:this.state.selected,onValueChange:this.onValueChange.bind(this),cities:this.props.cities,__source:{fileName:_jsxFileName,lineNumber:49}}):_react.default.createElement(_nativeBase.Text,{__source:{fileName:_jsxFileName,lineNumber:54}})));}}]);return HeaderNavBar;}(_react.Component);var mapStateToProps=function mapStateToProps(state){return{city_id:state.cities.city_id,cities:state.cities.cities};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateCity_id:function updateCity_id(payload){return dispatch(_CitiesRedux.default.updateCity_id(payload));},getCities:function getCities(payload){dispatch(_CitiesRedux.default.getCitiesRequest(payload));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(HeaderNavBar);exports.default=_default;